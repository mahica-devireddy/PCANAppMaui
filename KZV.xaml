<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PCANAppM.KZV"
             Title="KZV Configuration">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- INITIAL VIEW -->
            <StackLayout x:Name="InitialKzvView" IsVisible="True" Spacing="20">
                <Image Source="kzv_main.png"
                       Aspect="AspectFit"
                       HeightRequest="300" />
                <Button Text="Set CAN ID"
                        Clicked="OnSetCanIdClicked"
                        HorizontalOptions="Center" />
            </StackLayout>

            <!-- SET CAN ID DIALOG -->
            <StackLayout x:Name="SetCanIdView" IsVisible="False" Spacing="15">
                <Label Text="Enter New CAN ID (hex):"
                       FontAttributes="Bold" />
                <Entry x:Name="NewCanIdEntry"
                       Placeholder="e.g. 2F"
                       WidthRequest="150" />
                <Button Text="Set"
                        Clicked="OnSetClicked"
                        HorizontalOptions="Center" />
            </StackLayout>

            <!-- CONFIRMATION DIALOG -->
            <StackLayout x:Name="ConfirmCanIdView" IsVisible="False" Spacing="15">
                <Label x:Name="ConfirmText"
                       Text="Confirm new CAN ID?"
                       FontAttributes="Bold" />
                <HorizontalStackLayout Spacing="20" HorizontalOptions="Center">
                    <Button Text="Confirm"
                            Clicked="OnConfirmClicked" />
                    <Button Text="Cancel"
                            Clicked="OnCancelConfirmClicked" />
                </HorizontalStackLayout>
            </StackLayout>

            <!-- Latest CAN ID -->
            <Label x:Name="LatestCanIdLabel"
                   Text="Latest CAN ID: --"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   Margin="0,20,0,0" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
